(this["webpackJsonptodo-hooks"]=this["webpackJsonptodo-hooks"]||[]).push([[0],{10:function(e,t,a){e.exports=a(28)},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),o=a.n(r),i=a(3),l=a(2),u=a(1),s=a(9),m=a.n(s),d=function(e){var t=e.newTask,a=e.handleNewTaskChang,n=e.handleNewTask;return c.a.createElement("form",{onSubmit:n},c.a.createElement("input",{className:"new-todo",onChange:a,value:t,placeholder:"What needs to be done?",required:!0}))},f=a(30),b=function(e){var t=e.timeResult,a=e.onStartTimer,n=e.onStopTimer;return c.a.createElement("span",{className:"description"},c.a.createElement("button",{type:"button",className:"icon icon-play",onClick:a,"aria-label":"Start timer"}),c.a.createElement("button",{type:"button",className:"icon icon-pause",onClick:n,"aria-label":"Stop timer"}),function(e){var t=e,a=Math.floor(e/60),n=Math.floor(e/60/60);return t=t<10?"0".concat(t):t,a=a<10?"0".concat(a):a,e>=3600?(n=n<10?"0".concat(n):n,"".concat(n,":").concat(a,":").concat(t)):"".concat(a,":").concat(t)}(t))},p=c.a.createContext(),v=c.a.createContext(),E=function(e){var t,a,n=e.task,r=e.editValue,o=e.editMode,i=e.setEditValue,l=e.onSaveEditing,u=e.setEditMode;return c.a.createElement("form",{onSubmit:(t=n.id,a=r,function(e){e.preventDefault(),l(t,a),u(!o)})},c.a.createElement("input",{type:"text",className:"edit",name:n.id,value:r,onChange:function(e){e.preventDefault(),i(e.target.value)},onBlur:function(e){e.preventDefault();var t=e.currentTarget.value,a=e.currentTarget.name;l(a,t),u(!o)}}))},j=function(e){var t=e.task,a=Object(n.useContext)(p),r=a.removeTask,o=a.completeTask,i=a.updateTimer,l=a.onSaveEditing,s=Object(n.useState)(t.timer),m=Object(u.a)(s,2),d=m[0],v=m[1],j=Object(n.useState)(!1),O=Object(u.a)(j,2),k=O[0],C=O[1],h=Object(n.useState)(!1),g=Object(u.a)(h,2),S=g[0],N=g[1],T=Object(n.useState)(t.message),y=Object(u.a)(T,2),x=y[0],w=y[1],D=Object(n.useRef)(null);Object(n.useEffect)((function(){return k?(clearTimeout(D.current),D.current=setTimeout((function(){v((function(e){return e+1}))}),1e3)):k||clearTimeout(D.current),t.isCompleted&&(clearTimeout(D.current),C(!1)),i(t.id,d),function(){return clearTimeout(D.current)}}),[k,d,t.isCompleted,t.id]);var I="completed";return"active"===t.state&&(I=""),S&&(I="editing"),c.a.createElement("li",{className:I},c.a.createElement("div",{className:"view"},c.a.createElement("input",{className:"toggle",type:"checkbox",name:t.id,checked:t.isCompleted,onChange:o}),c.a.createElement("label",null,c.a.createElement("span",{className:"title"},t.message),c.a.createElement(b,{timeResult:d,onStartTimer:function(){clearTimeout(D.current),C(!0)},onStopTimer:function(){clearTimeout(D.current),C(!1)}}),c.a.createElement("span",{className:"description"},"created\xa0",Object(f.a)(t.created,{includeSeconds:!0}),"\xa0ago")),c.a.createElement("button",{type:"button",className:"icon icon-edit",name:t.id,onClick:function(){return N(!S)},"aria-label":"Edite task"}),c.a.createElement("button",{type:"button",className:"icon icon-destroy",onClick:function(){return r(t.id)},"aria-label":"Delete task"})),S&&c.a.createElement(E,{task:t,editValue:x,editMode:S,setEditValue:w,setEditMode:N,onSaveEditing:l}))},O=function(){var e,t,a=Object(n.useContext)(p),r=a.todoList,o=a.filterState,i=(e=r,"all"===(t=o)?e:e.filter((function(e){return e.state===t})));return c.a.createElement("ul",{className:"todo-list"},i.length>0&&i.map((function(e){return c.a.createElement(j,{task:e,key:e.id})})))},k=[["all","All"],["active","Active"],["finished","Completed"]],C=function(){var e=Object(n.useContext)(v),t=e.filterState,a=e.onFilterStateRename,r=function(e){e.preventDefault(),a(e.target.name)};return c.a.createElement("ul",{className:"filters"},k.map((function(e){return function(e,t){var a=Object(u.a)(e,2),n=a[0],o=a[1],i=n===t?"selected":"";return c.a.createElement("li",{key:n},c.a.createElement("button",{type:"button",className:i,name:n,"data-test":"task-filter-".concat(n),onClick:r},o))}(e,t)})))},h=function(){var e=Object(n.useContext)(v),t=e.countItems,a=e.onClearCompleted;return c.a.createElement("footer",{className:"footer"},c.a.createElement("span",{className:"todo-count"},t," items left"),c.a.createElement(C,null),c.a.createElement("button",{type:"button",className:"clear-completed",onClick:a},"Clear completed"))};function g(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),f=s[0],b=s[1],E=Object(n.useState)("all"),j=Object(u.a)(E,2),k=j[0],C=j[1],g=f.filter((function(e){return"active"===e.state})).length;return c.a.createElement("section",{className:"todoapp"},c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,"todos"),c.a.createElement(d,{handleNewTaskChang:function(e){e.preventDefault(),r(e.target.value)},handleNewTask:function(e){e.preventDefault(),""!==a&&(b([{id:m()(),message:a,state:"active",isCompleted:!1,created:Date.now(),timer:0}].concat(Object(l.a)(f))),r(""))},newTask:a})),c.a.createElement("section",{className:"main"},c.a.createElement(p.Provider,{value:{todoList:f,removeTask:function(e){b(f.filter((function(t){return t.id!==e})))},completeTask:function(e){var t=e.target.name,a=f.findIndex((function(e){return e.id===t})),n=f[a],c=Object(i.a)(Object(i.a)({},n),{},{isCompleted:!n.isCompleted,state:"active"===n.state?"finished":"active"}),r=[].concat(Object(l.a)(f.slice(0,a)),[c],Object(l.a)(f.slice(a+1)));b(r)},filterState:k,updateTimer:function(e,t){var a=f.findIndex((function(t){return t.id===e})),n=f[a],c=Object(i.a)(Object(i.a)({},n),{},{timer:t}),r=[].concat(Object(l.a)(f.slice(0,a)),[c],Object(l.a)(f.slice(a+1)));b(r)},onSaveEditing:function(e,t){var a=f.findIndex((function(t){return t.id===e})),n=f[a],c=Object(i.a)(Object(i.a)({},n),{},{message:t}),r=[].concat(Object(l.a)(f.slice(0,a)),[c],Object(l.a)(f.slice(a+1)));b(r)}}},c.a.createElement(O,null)),c.a.createElement(v.Provider,{value:{countItems:g,onClearCompleted:function(){var e=f.filter((function(e){return"active"===e.state}));b(e)},onFilterStateRename:function(e){C(e)},filterState:k}},c.a.createElement(h,null))))}a(27);o.a.render(c.a.createElement(g,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.075edb32.chunk.js.map